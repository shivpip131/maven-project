node {
stage ('git scm') {
git 'https://github.com/shivpip131/maven-project.git' }
}
node {
stage('install packages') {
withMaven(jdk: 'jdklocal', maven: 'mavenlocal') {
    sh 'mvn clean install'
}
}
}
node {
stage('deploy to tomcat') {
sshagent(['tomcat']) {
    sh 'scp -o StrictHostkeyChecking=no */target/*.war ec2-user@1172.31.32.98:/var/lib/tomcat/webapps'
}
}
}


